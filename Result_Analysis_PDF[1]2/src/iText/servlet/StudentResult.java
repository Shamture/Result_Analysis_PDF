package iText.servlet;

import iText.dbutil.DatabaseConnection;

import java.io.IOException;
import java.io.PrintWriter;
import java.sql.Connection;
import java.sql.ResultSet;
import java.sql.Statement;

import javax.servlet.ServletException;
import javax.servlet.annotation.WebServlet;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;

@WebServlet("/StudentResult")
public class StudentResult extends HttpServlet {
	private static final long serialVersionUID = 1L;

	public StudentResult() {
		super();
	}

	protected void doGet(HttpServletRequest request,
			HttpServletResponse response) throws ServletException, IOException {

		response.setContentType("text/html");
		PrintWriter out = response.getWriter();
		System.out.println("in get");
		out.print("<html>");
		out.print("<head>");
		out.print("<title>Report");
		out.print("</title>");
		out.print("</head>");
		out.print("<body>");
		out.print("<table>");
		try {
			Connection con = DatabaseConnection.prepareConn();
			Statement stmt = con.createStatement();

			String sql = request.getParameter("q");
			
			ResultSet rs = stmt.executeQuery(sql);

			while (rs.next()) {
			out.print("<tr>");
			out.print("<td>");
			out.print("Roll No");
			out.print("</td>");
			out.print("<td>");
			out.print(rs.getString(1));
			out.print("</td>");
			out.print("</tr>");			
			out.print("<tr>");
			out.print("<td>");
			out.print("Full Name");
			out.print("</td>");
			out.print("<td>");
			out.print(rs.getString(2));
			out.print("</td>");
			out.print("</tr>");			
			out.print("<tr>");
			out.print("<td>");
			out.print("Mother Name");
			out.print("</td>");
			out.print("<td>");
			out.print(rs.getString(3));
			out.print("</td>");
			out.print("</tr>");			
			out.print("<tr>");
			out.print("<td>");
			out.print("PRN");
			out.print("</td>");
			out.print("<td>");
			out.print(rs.getString(4));
			out.print("</td>");
			out.print("</tr>");			
			out.print("<tr>");
			out.print("<td>");
			out.print("College Name");
			out.print("</td>");
			out.print("<td>");
			out.print(rs.getString(5));
			out.print("</td>");
			out.print("</tr>");			
				out.print("<tr>");
				out.print("<td>");
				out.print("branchid");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(6));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("PRN");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(7));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("id_sem");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(8));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("sub1");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(9));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("sub2");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(10));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("sub3");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(11));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("sub4");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(12));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("sub5");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(13));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("sub6");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(14));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("sub7");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(15));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("sub8");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(16));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("sub9");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(17));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("sub10");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(18));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("p1");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(19));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("p2");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(20));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("p3");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(21));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("p4");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(22));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("p5");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(23));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("p6");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(24));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("p7");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(25));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("p8");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(26));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("p9");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(27));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("p10");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(28));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("tw1");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(29));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("tw2");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(30));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("tw3");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(31));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("tw4");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(32));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("tw5");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(33));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("tw6");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(34));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("insem1");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(35));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("insem2");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(36));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("insem3");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(37));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("insem4");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(38));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("insem5");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(39));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("insem6");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(40));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("insem7");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(41));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("insem8");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(42));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("insem9");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(43));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("insem10");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(44));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("tw7");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(45));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("tw8");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(46));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("tw9");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(47));
				out.print("</td>");
				out.print("</tr>");
				out.print("<tr>");
				out.print("<td>");
				out.print("tw10");
				out.print("</td>");
				out.print("<td>");
				out.print(rs.getString(48));
				out.print("</td>");
				out.print("</tr>");
				}

		} catch (Exception e) {
			e.printStackTrace();
		}
		out.print("</table>");
		out.print("</body>");
		out.print("</html>");
	}

}
